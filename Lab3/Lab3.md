# 2025秋季学期-数据结构 Lab3

> 负责助教：于海涛



## Lab说明

- 请使用**C++或Java**完成本课程的Lab编写（如果使用Python等其他语言，在批阅时会酌情扣分）。
- 由于**本课程的Lab将以测试用例的通过情况作为最终评分的主要依据**，因此请预先注册洛谷（https://www.luogu.com.cn）账号，用户名统一命名为**姓名的小写字母缩写\_学号**，**例如张三同学的用户名为zs_1234567890**。用户名只有一次修改机会，若本步骤出错请更换其他邮箱重新注册账号。
- **Lab提交**：
  1. 将代码打包成**.zip压缩包**，命名格式为**学号\_姓名\_Lab3.zip**，上传至elearning平台
  2. 通过本次Lab的洛谷链接加入比赛，提交并运行每道题，**请确保你已经在洛谷平台上使用测试用例进行过评分**。
  3. 准确完成上述两项内容后，本次Lab计为有效。
- **Lab评分**主要包含三个维度，请注意：
  1. 洛谷平台对应每道题目的得分（主要评分依据）
  2. 代码关键环节提供**适当的代码注释**
  3. 代码风格是否格式整洁、具有良好可读性
- 切勿抄袭！若检测到代码/注释存在雷同，一经查实，双方均按零分处理。
- **本次Lab截止日期为2025年10月13日23:59**。

> 本次Lab的洛谷链接：https://www.luogu.com.cn/contest/277698
> 邀请码：8mxf



## 题目清单

### 1. 矩阵乘法

#### 题目描述

给定 $n \times p$ 和 $p \times m$ 的两个矩阵 $A$ 和 $B$，求 $A \times B$。

#### 输入格式

第一行三个正整数 $n、p、m$，表示矩阵的长宽。

之后的 $n$ 行，每行 $p$ 个整数，表示矩阵 $A$。

之后的 $p$ 行，每行 $m$ 个整数，表示矩阵 $B$。

#### 输出格式

输出 $n$ 行，每行 $m$ 个整数，表示矩阵 $A \times B$，**每个数模 $10 ^ 9 + 7$ 输出。**

#### 输入输出样例

##### 输入 #1

```
3 2 3
1 1
1 1
1 1
1 1 1
1 1 1
```

##### 输出 #1

```
2 2 2
2 2 2
2 2 2
```

##### 输入 #2

```
3 4 5
-2 -8 -9 8
-10 0 6 -8
-10 -6 6 9
4 -7 5 -5 9
10 -2 -10 5 5
-3 -7 -3 8 -2
-6 7 7 3 -2
```

##### 输出 #2

```
999999898 149 153 999999929 999999951
999999997 999999979 999999883 74 999999921
999999835 103 55 95 999999857
```

#### 提示说明

$1 \leq n, p, m \leq 500,-10^{9} \leq A_{i, j}, B_{i, j} \leq 10^{9}$

#### Hint

请注意输出格式，数据需要模运算后输出：

```c++
const int MOD = 1e9 + 7;
```

在取模过程中务必保证完备性：

- 模运算结果应为非负
- 安全地覆盖所有边界情况

对于使用C++的同学，允许使用`vector`来处理数组，方便自动初始化数组等操作；当然你也可以选择自行使用指针数组来完成。



### 2. 子串数量

#### 题目描述

运用**KMP算法**求解如下问题：

给定一个字符串 $A$ 和一个字符串 $B$，求 $B$ 在 $A$ 中的出现次数。

$A$ 中不同位置出现的 $B$ 可重叠。

#### 输入格式

输入共两行，分别是字符串 $A$ 和字符串 $B$。

#### 输出格式

输出一个整数，表示 $B$ 在 $A$ 中的出现次数。

#### 输入输出样例

##### 输入 #1

```
zyzyzyz
zyz
```

##### 输出 #1

```
3
```

##### 输入 #2

```
Mitchell
abc
```

##### 输出 #2

```
0
```

#### 提示说明

对于$A$、$B$ 的长度，$1 \leq len(A), len(B) \leq 10 ^ 6$

对于$A$、$B$ 的内容，仅包含**大小写字母**。

#### Hint

如果$len(A) \leq len(B)-1$会怎样？





### 3. 编程作业

#### 题目背景

经常批改编程作业的同学应该知道，我们在判断一段代码是否来源于抄袭时，肉眼查重非常麻烦且效率低下，一般需要代码查重工具来辅助。

例如，考虑到如下的两段代码，很容易发现他们其实是一样的：

##### Code_1

```cpp
int i, j;
i = 3;
j = i + 1;
```

##### Code_2

```cpp
int a, i;
a = 3;
i = a + 1;
```

这是因为这两段代码之间唯一的差异，只是他们更换了一下变量名，比如第一段代码中的 `i` 变成了第二段的 `a`，第一段的 `j` 变成了第二段的 `i` 。而其他的常量，例如 `3`，`1` 或者其他的关键字和运算符，比如 `int`，`+` 和 `;`。都是没有发生变化的。 

不过注意到如下的代码片段，我们并不能简单认为这是一样的，因为这不是一个简单的替换，而是可以导致不同运算结果的：
##### Code_3

```cpp
a = 3;
b = 3;
```

##### Code_4
```cpp
c = 3;
c = 3; 
```

**为了简化问题，我们用大写字母来表示所有的关键字、常量等非变量符号。**

假如我们采用如下的替换表：

$$
\begin{array}{l|c|c|c|c|c|c|c}
\text { 符号 } & \text { int } & \text { ，} & \text { ；} & = & 3 & + & \text { L } \\
\hline \text { 字母 } & \text { A } & \text { B } & \text { C } & \text { D } & \text { E } & \text { F } & \text { G }
\end{array}
$$
那么最开始给出的两段雷同代码就可以分别写成 `AiBjCiDECjDiFGC` 以及 `AaBiCaDECiDaFGC`。

或者简单的说，我们认为这两段代码是一样的。

#### 题目描述

现在请你编写一个程序，处理若干这样的代码雷同检测问题：

给定一个完整代码以及一个较短的代码片段，请求出，这个代码片段在完整代码中一共出现了多少次（**代码片段出现的位置可以重叠**）。

为了简单起见，我们认为程序中只会至多出现 $\text a\sim \text z$ 这 $26$ 个**变量**，同时也至多只有 $\text A\sim \text Z$ 这 $26$ 个**非变量符号**。

#### 输入格式

第一行包含一个字符串 $S$，表示完整代码，第二行包含一个字符串 $T$，表示需要检测出现次数的代码片段。

#### 输出格式

一个整数，表示对应代码片段的出现次数。

#### 输入输出样例 #1

##### 输入 #1

```
AiBjCiDECjDiFGC
AaBiCaDECiDaFGC
```

##### 输出 #1

```
1
```

##### 输入 #2

```
ccddef
aab
```

##### 输出 #2

```
2
```

##### 输入 #1

```
cDEcDEbDE
aDEbDE
```

##### 输出 #1

```
1
```

#### 数据范围

$1\leq len(T)\leq10^5, 0\leq len(S)\leq 10^6$

#### Hint

可以复用第二题的KMP算法模板，减少工作量。

此外，你需要思考如何才能把这个复杂的问题**归约**为一个简单的KMP算法题。

> 所谓的**归约**是将某个计算问题变换为另一个问题的过程。我们解题时常遇见似曾相识的题目，此时我们若可将新题变换成已解旧题的一例，则新题亦解矣。

