# 2025秋季学期-数据结构 Lab5

> 负责助教：于海涛



## Lab说明

- 请使用**C++或Java**完成本课程的Lab编写（如果使用Python等其他语言，在批阅时会酌情扣分）。
- 由于**本课程的Lab将以测试用例的通过情况作为最终评分的主要依据**，因此请预先注册洛谷（https://www.luogu.com.cn）账号，用户名统一命名为**姓名的小写字母缩写\_学号**，**例如张三同学的用户名为zs_1234567890**。用户名只有一次修改机会，若本步骤出错请更换其他邮箱重新注册账号。
- **Lab提交**：
  1. 将代码打包成**.zip压缩包**，命名格式为**学号\_姓名\_Lab5.zip**，上传至elearning平台
  2. 通过本次Lab的洛谷链接加入比赛，提交并运行每道题，**请确保你已经在洛谷平台上使用测试用例进行过评分**。
  3. 准确完成上述两项内容后，本次Lab计为有效。
- **Lab评分**主要包含三个维度，请注意：
  1. 洛谷平台对应每道题目的得分（主要评分依据）
  2. 代码关键环节提供**适当的代码注释**
  3. 代码风格是否格式整洁、具有良好可读性
- 切勿抄袭！若检测到代码/注释存在雷同，一经查实，双方均按零分处理。
- **本次Lab截止日期为2025年11月3日23:59**。

> 本次Lab的洛谷链接：https://www.luogu.com.cn/contest/277699
> 邀请码：3cqf



## 题目清单

### 1. 奶牛的家谱Ⅰ

#### 题目背景

农夫约翰非常认真地对待他的奶牛们的血统。**他把奶牛们的家谱作成二叉树，每个节点代表一头奶牛，左右子树代表它的至多两个分支后代，每一头奶牛的姓名被译为一个唯一的字母。**

这是在**样例1**中的树的图形表达方式：

```plain
　　　　　　　　 C
　　　　　　  /   \
　　　　　　 B　　  G
　　　　　　/ \　　/
　　　　  A   D  H
　　　　　　  / \
　　　　　　 E   F
```

> - 树的中序遍历是按照左子树，根，右子树的顺序访问节点；
> - 树的前序遍历是按照根，左子树，右子树的顺序访问节点；
> - 树的后序遍历是按照左子树，右子树，根的顺序访问节点。

#### 题目描述

给定奶牛家谱的“树中序遍历”和“树前序遍历”的符号序列，创建奶牛家谱的“树的后序遍历”的符号序列并输出。

#### 输入格式

第一行：一个字符串，表示该树的中序遍历。

第二行：一个字符串，表示该树的前序遍历。

#### 输出格式

单独的一行表示该树的后序遍历。

#### 输入输出样例

##### 输入 #1

```
ABEDFCHG
CBADEFGH 
```

##### 输出 #1

```
AEFDBHGC
```

##### 输入 #2

```
IOWZRXGECTPYLQJSNBKMADUHVF
CIWOERZXGPTDQYLKSJNBMAHUFV
```

##### 输出 #2

```
OZGXREWITLYJBNSAMKQUVFHDPC
```

#### 提示说明

根据本题目场景，字母均为大写英文字母，因此二叉树的顶点数目不会有多于 26 个。



### 2. 奶牛的家谱Ⅱ

#### 题目背景

在完成了第一份奶牛的家谱重建工作后，农夫约翰对结果非常满意。

现在约翰想研究任意两头奶牛的血缘关系：给定两头奶牛的名字，怎样找到它们在家谱树中**最近公共祖先（Lowest Common Ancestor, LCA）**？

> 在一棵树中，两个节点 `x` 和 `y` 的**最近公共祖先（Lowest Common Ancestor, LCA）定义**为：同时是 `x` 与 `y` 的祖先的所有节点中，距离它们最近的那个。
>
> 通俗地说，就是：
>
> - 从 `x` 和 `y` 分别往上走；
> - 第一个相交的祖先节点，就是它们的最近公共祖先。

#### 题目描述

给定奶牛家谱的“树前序遍历”和“树中序遍历”的符号序列，再给定两头奶牛的名字，找出这两头奶牛的最近公共祖先（LCA）并输出。

#### 输入格式

第一行：一个字符串，表示该树的前序遍历。

第二行：一个字符串，表示该树的中序遍历。

第三行：两个字符，表示要查询的两头奶牛名称（中间用空格隔开）

#### 输出格式

输出一个字符，为查询的两头奶牛的最近公共祖先（LCA），若查询的奶牛不存在于树中，输出 `NA`。

#### 输入输出样例

##### 输入 #1

```
ABDECFGH
DBEAFCGH
E H
```

##### 输出 #1

```
A
```

##### 输入 #2

```
ABDECFG
DBEACFG
D E
```

##### 输出 #2

```
B
```

##### 输入 #3

```
ABCDE
CBADE
X Y
```

##### 输出 #3

```
NA
```

#### 提示说明

根据本题目场景，字母均为大写英文字母，因此二叉树的顶点数目不会有多于 26 个。

